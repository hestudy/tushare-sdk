# Quick Start: æ¯æ—¥æŒ‡æ ‡æ¼”ç¤ºç¤ºä¾‹

**Feature**: 005-node-demo  
**Date**: 2025-10-10  
**Audience**: å¼€å‘è€…

## æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾›æ¯æ—¥æŒ‡æ ‡æ¼”ç¤ºç¤ºä¾‹çš„å¿«é€Ÿå¼€å§‹æŒ‡å—,å¸®åŠ©å¼€å‘è€…å¿«é€Ÿäº†è§£å¦‚ä½•ä½¿ç”¨ Tushare SDK çš„ `getDailyBasic` API è·å–è‚¡ç¥¨æ¯æ—¥åŸºæœ¬é¢æŒ‡æ ‡æ•°æ®ã€‚

---

## å‰ç½®è¦æ±‚

### å¿…éœ€
- âœ… **Node.js**: 18.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- âœ… **pnpm**: 8.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- âœ… **Tushare API Token**: ä» [Tushare Pro](https://tushare.pro) è·å–
- âœ… **ç§¯åˆ†è¦æ±‚**: 2000+ ç§¯åˆ†(daily_basic æ¥å£è¦æ±‚)

### æ£€æŸ¥æƒé™

æ¯æ—¥æŒ‡æ ‡æ¥å£éœ€è¦ **2000+ ç§¯åˆ†**ã€‚æ‚¨å¯ä»¥åœ¨ [Tushare Pro ä¸ªäººä¸­å¿ƒ](https://tushare.pro/user/token) æŸ¥çœ‹æ‚¨çš„ç§¯åˆ†ã€‚

å¦‚æœç§¯åˆ†ä¸è¶³,æ‚¨å¯ä»¥:
- é€šè¿‡ç­¾åˆ°ã€åˆ†äº«ç­‰æ–¹å¼è·å–ç§¯åˆ†
- æˆ–ä½¿ç”¨å…¶ä»–ç¤ºä¾‹(stock-listã€daily-dataã€trade-calendar)

---

## å¿«é€Ÿå¼€å§‹ (2 åˆ†é’Ÿ)

### æ­¥éª¤ 1: ç¡®ä¿å·²å®‰è£…ä¾èµ–

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
cd /path/to/tushare-sdk

# å®‰è£…ä¾èµ–(å¦‚æœè¿˜æ²¡æœ‰)
pnpm install
```

### æ­¥éª¤ 2: é…ç½® API Token

ç¡®ä¿ `apps/node-demo/.env` æ–‡ä»¶ä¸­å·²é…ç½® Token:

```bash
# Tushare API Token (å¿…éœ€)
TUSHARE_TOKEN=your_actual_token_here
```

### æ­¥éª¤ 3: è¿è¡Œæ¯æ—¥æŒ‡æ ‡ç¤ºä¾‹

```bash
# ä»é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
pnpm --filter node-demo start --example=daily-basic
```

æ‚¨åº”è¯¥çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡º:

```
========================================
Tushare SDK æ¼”ç¤ºåº”ç”¨
ç‰ˆæœ¬: 1.0.0
SDK ç‰ˆæœ¬: 1.0.0
æ—¶é—´: 2025-10-10 17:00:00
========================================

[1/1] è¿è¡Œç¤ºä¾‹: æ¯æ—¥æŒ‡æ ‡æŸ¥è¯¢
âœ“ æˆåŠŸ (è€—æ—¶: 5234ms)

=== åœºæ™¯ 1: æŒ‰äº¤æ˜“æ—¥æœŸæŸ¥è¯¢å…¨å¸‚åœºæ•°æ® ===
æŸ¥è¯¢å‚æ•°: { trade_date: '20241008' }
è¿”å›æ•°æ®: 4523 æ¡
ç¤ºä¾‹æ•°æ®(å‰ 3 æ¡):
  - 000001.SZ | 2024-10-08 | PE: 5.23 | PB: 0.68 | æ¢æ‰‹ç‡: 0.45% | æ€»å¸‚å€¼: 23456789 ä¸‡å…ƒ
  - 000002.SZ | 2024-10-08 | PE: 12.45 | PB: 1.23 | æ¢æ‰‹ç‡: 0.78% | æ€»å¸‚å€¼: 12345678 ä¸‡å…ƒ
  - 000004.SZ | 2024-10-08 | PE: 8.90 | PB: 0.95 | æ¢æ‰‹ç‡: 0.32% | æ€»å¸‚å€¼: 9876543 ä¸‡å…ƒ

=== åœºæ™¯ 2: æŒ‰è‚¡ç¥¨ä»£ç æŸ¥è¯¢å†å²æ•°æ® ===
æŸ¥è¯¢å‚æ•°: { ts_code: '000001.SZ', start_date: '20240901', end_date: '20241001' }
è¿”å›æ•°æ®: 21 æ¡
ç¤ºä¾‹æ•°æ®(å‰ 3 æ¡):
  - 000001.SZ | 2024-09-02 | PE: 5.20 | PB: 0.67 | æ¢æ‰‹ç‡: 0.42%
  - 000001.SZ | 2024-09-03 | PE: 5.21 | PB: 0.68 | æ¢æ‰‹ç‡: 0.45%
  - 000001.SZ | 2024-09-04 | PE: 5.22 | PB: 0.68 | æ¢æ‰‹ç‡: 0.43%

=== åœºæ™¯ 3: è‡ªå®šä¹‰è¿”å›å­—æ®µ ===
æŸ¥è¯¢å‚æ•°: { trade_date: '20241008', fields: 'ts_code,trade_date,pe,pb,turnover_rate,total_mv' }
è¿”å›å­—æ®µ: ts_code, trade_date, pe, pb, turnover_rate, total_mv
è¿”å›æ•°æ®: 4523 æ¡
ç¤ºä¾‹æ•°æ®(å‰ 3 æ¡):
  - 000001.SZ | 2024-10-08 | PE: 5.23 | PB: 0.68 | æ¢æ‰‹ç‡: 0.45% | æ€»å¸‚å€¼: 23456789 ä¸‡å…ƒ

========================================
æ‰§è¡Œæ‘˜è¦
========================================
æ€»è®¡: 1 ä¸ªç¤ºä¾‹
æˆåŠŸ: 1 ä¸ª
å¤±è´¥: 0 ä¸ª
æ€»è€—æ—¶: 5234ms
========================================
```

ğŸ‰ **æ­å–œ!** æ‚¨å·²æˆåŠŸè¿è¡Œæ¯æ—¥æŒ‡æ ‡æ¼”ç¤ºç¤ºä¾‹!

---

## æ¼”ç¤ºåœºæ™¯è¯´æ˜

### åœºæ™¯ 1: æŒ‰äº¤æ˜“æ—¥æœŸæŸ¥è¯¢å…¨å¸‚åœºæ•°æ®

**ä½¿ç”¨åœºæ™¯**: è·å–æŒ‡å®šäº¤æ˜“æ—¥æ‰€æœ‰è‚¡ç¥¨çš„åŸºæœ¬é¢æŒ‡æ ‡,ç”¨äºå¸‚åœºæ•´ä½“åˆ†ææˆ–è‚¡ç¥¨ç­›é€‰ã€‚

**æŸ¥è¯¢å‚æ•°**:
```typescript
{
  trade_date: '20241008'  // äº¤æ˜“æ—¥æœŸ,æ ¼å¼ YYYYMMDD
}
```

**è¿”å›æ•°æ®**: çº¦ 4000-5000 æ¡(å…¨å¸‚åœºè‚¡ç¥¨æ•°é‡)

**å…³é”®å­—æ®µ**:
- `ts_code`: è‚¡ç¥¨ä»£ç 
- `trade_date`: äº¤æ˜“æ—¥æœŸ
- `pe`: å¸‚ç›ˆç‡(åŠ¨æ€)
- `pb`: å¸‚å‡€ç‡
- `turnover_rate`: æ¢æ‰‹ç‡(%)
- `total_mv`: æ€»å¸‚å€¼(ä¸‡å…ƒ)

**é€‚ç”¨äº**:
- å¸‚åœºæ•´ä½“ä¼°å€¼åˆ†æ
- ä½ä¼°å€¼è‚¡ç¥¨ç­›é€‰
- é«˜æ¢æ‰‹ç‡è‚¡ç¥¨å‘ç°

---

### åœºæ™¯ 2: æŒ‰è‚¡ç¥¨ä»£ç æŸ¥è¯¢å†å²æ•°æ®

**ä½¿ç”¨åœºæ™¯**: è·å–å•åªè‚¡ç¥¨ä¸€æ®µæ—¶é—´çš„æŒ‡æ ‡å˜åŒ–,ç”¨äºä¸ªè‚¡åˆ†ææˆ–è¶‹åŠ¿è·Ÿè¸ªã€‚

**æŸ¥è¯¢å‚æ•°**:
```typescript
{
  ts_code: '000001.SZ',      // è‚¡ç¥¨ä»£ç 
  start_date: '20240901',    // å¼€å§‹æ—¥æœŸ
  end_date: '20241001'       // ç»“æŸæ—¥æœŸ
}
```

**è¿”å›æ•°æ®**: çº¦ 20 æ¡(ä¸€ä¸ªæœˆçš„äº¤æ˜“æ—¥)

**é€‚ç”¨äº**:
- ä¸ªè‚¡ä¼°å€¼å˜åŒ–åˆ†æ
- PE/PB å†å²èµ°åŠ¿
- æ¢æ‰‹ç‡å˜åŒ–è¶‹åŠ¿

---

### åœºæ™¯ 3: è‡ªå®šä¹‰è¿”å›å­—æ®µ

**ä½¿ç”¨åœºæ™¯**: åªè·å–éœ€è¦çš„å­—æ®µ,å‡å°‘æ•°æ®ä¼ è¾“é‡,æå‡æ€§èƒ½ã€‚

**æŸ¥è¯¢å‚æ•°**:
```typescript
{
  trade_date: '20241008',
  fields: 'ts_code,trade_date,pe,pb,turnover_rate,total_mv'  // æŒ‡å®šå­—æ®µ
}
```

**è¿”å›æ•°æ®**: çº¦ 4000-5000 æ¡,ä½†æ¯æ¡æ•°æ®æ›´å°

**é€‚ç”¨äº**:
- æ€§èƒ½ä¼˜åŒ–åœºæ™¯
- åªå…³æ³¨ç‰¹å®šæŒ‡æ ‡
- å‡å°‘ç½‘ç»œå¸¦å®½æ¶ˆè€—

---

## è¿›é˜¶ä½¿ç”¨

### å¯ç”¨è¯¦ç»†è¾“å‡º

æŸ¥çœ‹è¯¦ç»†çš„ API è¯·æ±‚å’Œå“åº”ä¿¡æ¯:

```bash
pnpm --filter node-demo start --example=daily-basic --verbose
```

è¾“å‡ºå°†åŒ…å«:
```
[API è¯·æ±‚] getDailyBasic
å‚æ•°: { trade_date: '20241008' }

[API å“åº”] getDailyBasic
çŠ¶æ€: æˆåŠŸ
æ•°æ®æ¡æ•°: 4523
è€—æ—¶: 1234ms
```

### è¾“å‡º JSON æ ¼å¼

è¾“å‡ºç»“æ„åŒ– JSON æ•°æ®:

```bash
pnpm --filter node-demo start --example=daily-basic --format=json
```

ä¿å­˜åˆ°æ–‡ä»¶:

```bash
pnpm --filter node-demo start --example=daily-basic --format=json > daily-basic-output.json
```

### ä¸å…¶ä»–ç¤ºä¾‹ä¸€èµ·è¿è¡Œ

è¿è¡Œæ‰€æœ‰ç¤ºä¾‹(åŒ…æ‹¬æ¯æ—¥æŒ‡æ ‡):

```bash
pnpm --filter node-demo start --example=all
```

---

## ä»£ç ç¤ºä¾‹

å¦‚æœæ‚¨æƒ³åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨ `getDailyBasic` API,å¯ä»¥å‚è€ƒä»¥ä¸‹ä»£ç :

### åŸºæœ¬ç”¨æ³•

```typescript
import { TushareClient } from '@hestudy/tushare-sdk';

// åˆ›å»ºå®¢æˆ·ç«¯
const client = new TushareClient({
  token: 'your_token_here',
});

// æŸ¥è¯¢æŒ‡å®šæ—¥æœŸçš„å…¨å¸‚åœºæ•°æ®
const result = await client.getDailyBasic({
  trade_date: '20241008',
});

console.log(`è¿”å› ${result.length} æ¡æ•°æ®`);
console.log('ç¤ºä¾‹æ•°æ®:', result.slice(0, 3));
```

### æŒ‰è‚¡ç¥¨ä»£ç æŸ¥è¯¢

```typescript
// æŸ¥è¯¢å¹³å®‰é“¶è¡Œæœ€è¿‘ä¸€ä¸ªæœˆçš„æ¯æ—¥æŒ‡æ ‡
const result = await client.getDailyBasic({
  ts_code: '000001.SZ',
  start_date: '20240901',
  end_date: '20241001',
});

// åˆ†æ PE å˜åŒ–
const peValues = result.map(item => item.pe).filter(pe => pe !== null);
const avgPe = peValues.reduce((sum, pe) => sum + pe, 0) / peValues.length;
console.log(`å¹³å‡å¸‚ç›ˆç‡: ${avgPe.toFixed(2)}`);
```

### è‡ªå®šä¹‰è¿”å›å­—æ®µ

```typescript
// åªè·å–éœ€è¦çš„å­—æ®µ
const result = await client.getDailyBasic({
  trade_date: '20241008',
  fields: 'ts_code,trade_date,pe,pb,turnover_rate,total_mv',
});

// ç­›é€‰ä½ä¼°å€¼è‚¡ç¥¨
const lowPeStocks = result.filter(item => 
  item.pe !== null && item.pe > 0 && item.pe < 15
);

console.log(`ä½ä¼°å€¼è‚¡ç¥¨(PE < 15): ${lowPeStocks.length} åª`);
```

### é”™è¯¯å¤„ç†

```typescript
import { TushareClient, ApiError, ApiErrorType } from '@hestudy/tushare-sdk';

try {
  const result = await client.getDailyBasic({
    trade_date: '20241008',
  });
  
  if (result.length === 0) {
    console.log('æç¤º: è¯¥æ—¥æœŸæ— äº¤æ˜“æ•°æ®(å¯èƒ½æ˜¯å‘¨æœ«æˆ–èŠ‚å‡æ—¥)');
  }
} catch (error) {
  if (error instanceof ApiError) {
    switch (error.type) {
      case ApiErrorType.AUTH_ERROR:
        console.error('è®¤è¯å¤±è´¥,è¯·æ£€æŸ¥ API Token');
        break;
      case ApiErrorType.PERMISSION_DENIED:
        console.error('æƒé™ä¸è¶³,daily_basic æ¥å£éœ€è¦ 2000+ ç§¯åˆ†');
        break;
      case ApiErrorType.PARAM_ERROR:
        console.error('å‚æ•°é”™è¯¯:', error.message);
        break;
      case ApiErrorType.NETWORK_ERROR:
        console.error('ç½‘ç»œé”™è¯¯,è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
        break;
      default:
        console.error('æœªçŸ¥é”™è¯¯:', error.message);
    }
  }
}
```

---

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆè¿”å›çš„æ•°æ®ä¸ºç©º?

**A**: å¯èƒ½çš„åŸå› :
1. æŸ¥è¯¢çš„æ—¥æœŸæ˜¯å‘¨æœ«æˆ–èŠ‚å‡æ—¥,æ²¡æœ‰äº¤æ˜“æ•°æ®
2. æ—¥æœŸæ ¼å¼é”™è¯¯,åº”ä½¿ç”¨ YYYYMMDD æ ¼å¼(å¦‚ '20241008')
3. è‚¡ç¥¨ä»£ç ä¸å­˜åœ¨æˆ–æ ¼å¼é”™è¯¯

**è§£å†³æ–¹æ³•**:
- ä½¿ç”¨äº¤æ˜“æ—¥æŸ¥è¯¢(å¯é€šè¿‡ `getTradeCalendar` è·å–äº¤æ˜“æ—¥åˆ—è¡¨)
- æ£€æŸ¥æ—¥æœŸå’Œè‚¡ç¥¨ä»£ç æ ¼å¼

### Q2: ä¸ºä»€ä¹ˆæç¤ºæƒé™ä¸è¶³?

**A**: `daily_basic` æ¥å£éœ€è¦ **2000+ ç§¯åˆ†**ã€‚

**è§£å†³æ–¹æ³•**:
- åœ¨ [Tushare Pro ä¸ªäººä¸­å¿ƒ](https://tushare.pro/user/token) æŸ¥çœ‹æ‚¨çš„ç§¯åˆ†
- é€šè¿‡ç­¾åˆ°ã€åˆ†äº«ç­‰æ–¹å¼è·å–ç§¯åˆ†
- æˆ–ä½¿ç”¨å…¶ä»–ä¸éœ€è¦é«˜ç§¯åˆ†çš„æ¥å£

### Q3: æŸ¥è¯¢å…¨å¸‚åœºæ•°æ®å¾ˆæ…¢æ€ä¹ˆåŠ?

**A**: å…¨å¸‚åœºæ•°æ®çº¦ 4000-5000 æ¡,æŸ¥è¯¢æ—¶é—´å¯èƒ½éœ€è¦ 5-10 ç§’ã€‚

**ä¼˜åŒ–æ–¹æ³•**:
1. ä½¿ç”¨ `fields` å‚æ•°åªè·å–éœ€è¦çš„å­—æ®µ
2. å¦‚æœåªéœ€è¦éƒ¨åˆ†è‚¡ç¥¨,ä½¿ç”¨ `ts_code` å‚æ•°æŒ‡å®šè‚¡ç¥¨ä»£ç 
3. è€ƒè™‘ç¼“å­˜æ•°æ®,é¿å…é¢‘ç¹æŸ¥è¯¢

### Q4: å¦‚ä½•ç†è§£å„ä¸ªæŒ‡æ ‡?

**A**: å…³é”®æŒ‡æ ‡è¯´æ˜:
- **PE (å¸‚ç›ˆç‡)**: è‚¡ä»· / æ¯è‚¡æ”¶ç›Š,è¡¡é‡ä¼°å€¼æ°´å¹³,ä¸€èˆ¬ 10-20 ä¸ºåˆç†åŒºé—´
- **PB (å¸‚å‡€ç‡)**: è‚¡ä»· / æ¯è‚¡å‡€èµ„äº§,< 1 è¡¨ç¤ºè‚¡ä»·ä½äºå‡€èµ„äº§
- **æ¢æ‰‹ç‡**: æˆäº¤é‡ / æµé€šè‚¡æœ¬,åæ˜ è‚¡ç¥¨æ´»è·ƒåº¦
- **æ€»å¸‚å€¼**: è‚¡ä»· Ã— æ€»è‚¡æœ¬,åæ˜ å…¬å¸è§„æ¨¡

æ›´å¤šæŒ‡æ ‡è¯´æ˜è¯·å‚è€ƒ [Tushare æ–‡æ¡£](https://tushare.pro/document/2?doc_id=32)

### Q5: å¯ä»¥è·å–å®æ—¶æ•°æ®å—?

**A**: `daily_basic` æ¥å£æä¾›çš„æ˜¯æ¯æ—¥æ”¶ç›˜åçš„æ•°æ®,ä¸æ˜¯å®æ—¶æ•°æ®ã€‚

å¦‚éœ€å®æ—¶æ•°æ®,è¯·ä½¿ç”¨å…¶ä»–æ¥å£:
- å®æ—¶è¡Œæƒ…: éœ€è¦æ›´é«˜æƒé™
- åˆ†é’Ÿçº§æ•°æ®: éœ€è¦æ›´é«˜æƒé™

---

## ä¸‹ä¸€æ­¥

### æ¢ç´¢å…¶ä»–ç¤ºä¾‹

```bash
# è‚¡ç¥¨åˆ—è¡¨æŸ¥è¯¢
pnpm --filter node-demo start --example=stock-list

# æ—¥çº¿æ•°æ®æŸ¥è¯¢
pnpm --filter node-demo start --example=daily-data

# äº¤æ˜“æ—¥å†æŸ¥è¯¢
pnpm --filter node-demo start --example=trade-calendar
```

### æŸ¥çœ‹å®Œæ•´æ–‡æ¡£

- [Tushare SDK æ–‡æ¡£](../../README.md)
- [API å‚è€ƒæ–‡æ¡£](../../docs/api.md)
- [æ¯æ—¥æŒ‡æ ‡æ¥å£æ–‡æ¡£](https://tushare.pro/document/2?doc_id=32)

### åœ¨æ‚¨çš„é¡¹ç›®ä¸­ä½¿ç”¨

```bash
# å®‰è£… SDK
npm install @hestudy/tushare-sdk

# æˆ–ä½¿ç”¨ pnpm
pnpm add @hestudy/tushare-sdk
```

---

## åé¦ˆä¸æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®,æ¬¢è¿:
- æäº¤ [GitHub Issue](https://github.com/hestudy/tushare-sdk/issues)
- æŸ¥çœ‹ [å¸¸è§é—®é¢˜æ–‡æ¡£](../../docs/faq.md)
- å‚è€ƒ [Tushare å®˜æ–¹æ–‡æ¡£](https://tushare.pro/document/2)

**çŠ¶æ€**: å¿«é€Ÿå¼€å§‹æŒ‡å—å®Œæˆ
