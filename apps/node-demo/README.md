# Tushare SDK æ¼”ç¤ºåº”ç”¨

è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ Node.js åº”ç”¨,ç”¨äºæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Tushare SDK è¿›è¡Œæ•°æ®æŸ¥è¯¢ã€‚

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ:

```bash
pnpm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶å¡«å…¥æ‚¨çš„ Tushare API Token:

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶:

```bash
TUSHARE_TOKEN=your_actual_token_here
```

> ğŸ’¡ **è·å– Token**: è®¿é—® [https://tushare.pro](https://tushare.pro) æ³¨å†Œå¹¶è·å– API Token

### 3. è¿è¡Œæ¼”ç¤º

```bash
# å¼€å‘æ¨¡å¼(æ¨è)
pnpm dev

# æˆ–æ„å»ºåè¿è¡Œ
pnpm build
pnpm start
```

## ä½¿ç”¨ç¤ºä¾‹

### è¿è¡Œæ‰€æœ‰ç¤ºä¾‹

```bash
pnpm dev
```

### è¿è¡Œç‰¹å®šç¤ºä¾‹

```bash
# è‚¡ç¥¨åˆ—è¡¨æŸ¥è¯¢
pnpm dev -- --example=stock-list

# æ—¥çº¿æ•°æ®æŸ¥è¯¢
pnpm dev -- --example=daily-data

# äº¤æ˜“æ—¥å†æŸ¥è¯¢
pnpm dev -- --example=trade-calendar

# æ¯æ—¥æŒ‡æ ‡æŸ¥è¯¢
pnpm dev -- --example=daily-basic
```

### å¯ç”¨è¯¦ç»†è¾“å‡º

```bash
pnpm dev -- --verbose
```

### è¾“å‡º JSON æ ¼å¼

```bash
pnpm dev -- --format=json
```

## é¡¹ç›®ç»“æ„

```
apps/node-demo/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts              # ä¸»å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ config.ts             # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ types.ts              # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ error-handling.ts     # é”™è¯¯å¤„ç†æ¼”ç¤º
â”‚   â”œâ”€â”€ examples/             # API è°ƒç”¨ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ stock-list.ts     # è‚¡ç¥¨åˆ—è¡¨æŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ daily-data.ts     # æ—¥çº¿æ•°æ®æŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ trade-calendar.ts # äº¤æ˜“æ—¥å†æŸ¥è¯¢
â”‚   â”‚   â””â”€â”€ daily-basic.ts    # æ¯æ—¥æŒ‡æ ‡æŸ¥è¯¢
â”‚   â””â”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ error-handler.ts  # é”™è¯¯å¤„ç†å·¥å…·
â”‚       â”œâ”€â”€ formatter.ts      # è¾“å‡ºæ ¼å¼åŒ–
â”‚       â””â”€â”€ example-runner.ts # ç¤ºä¾‹æ‰§è¡Œå™¨
â”œâ”€â”€ tests/                    # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/                 # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ integration/          # é›†æˆæµ‹è¯•
â”œâ”€â”€ .env.example              # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

## å¼€å‘

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# ç›‘å¬æ¨¡å¼
pnpm test:watch

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm test:coverage
```

### ç±»å‹æ£€æŸ¥

```bash
pnpm type-check
```

## å¯ç”¨ç¤ºä¾‹

### 1. è‚¡ç¥¨åˆ—è¡¨æŸ¥è¯¢ (stock-list)

æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ `getStockBasic` API è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯ã€‚

**è¿è¡Œå‘½ä»¤**:
```bash
pnpm dev -- --example=stock-list
```

### 2. æ—¥çº¿æ•°æ®æŸ¥è¯¢ (daily-data)

æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ `getDailyQuote` API è·å–è‚¡ç¥¨æ—¥çº¿è¡Œæƒ…æ•°æ®ã€‚

**è¿è¡Œå‘½ä»¤**:
```bash
pnpm dev -- --example=daily-data
```

### 3. äº¤æ˜“æ—¥å†æŸ¥è¯¢ (trade-calendar)

æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ `getTradeCalendar` API è·å–äº¤æ˜“æ—¥å†æ•°æ®ã€‚

**è¿è¡Œå‘½ä»¤**:
```bash
pnpm dev -- --example=trade-calendar
```

### 4. æ¯æ—¥æŒ‡æ ‡æŸ¥è¯¢ (daily-basic)

æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ `getDailyBasic` API è·å–è‚¡ç¥¨æ¯æ—¥åŸºæœ¬é¢æŒ‡æ ‡æ•°æ®ã€‚

**è¿è¡Œå‘½ä»¤**:
```bash
pnpm dev -- --example=daily-basic
```

**æ¼”ç¤ºå†…å®¹**:
- åœºæ™¯ 1: æŒ‰äº¤æ˜“æ—¥æœŸæŸ¥è¯¢å…¨å¸‚åœºæ•°æ®
- åœºæ™¯ 2: æŒ‰è‚¡ç¥¨ä»£ç æŸ¥è¯¢å†å²æ•°æ®
- åœºæ™¯ 3: è‡ªå®šä¹‰è¿”å›å­—æ®µ

**å…³é”®å­—æ®µ**:
- `ts_code`: è‚¡ç¥¨ä»£ç 
- `trade_date`: äº¤æ˜“æ—¥æœŸ
- `pe`: å¸‚ç›ˆç‡(åŠ¨æ€)
- `pb`: å¸‚å‡€ç‡
- `turnover_rate`: æ¢æ‰‹ç‡(%)
- `total_mv`: æ€»å¸‚å€¼(ä¸‡å…ƒ)

**æƒé™è¦æ±‚**: éœ€è¦ 2000+ ç§¯åˆ†

---

## åŠŸèƒ½ç‰¹æ€§

- âœ… **åŸºç¡€ SDK åŠŸèƒ½**: æ¼”ç¤ºå®¢æˆ·ç«¯åˆå§‹åŒ–å’Œ API è°ƒç”¨
- âœ… **é”™è¯¯å¤„ç†**: å±•ç¤ºå„ç§é”™è¯¯åœºæ™¯çš„å¤„ç†æ–¹å¼
- âœ… **å¤šç§ API**: åŒ…å«è‚¡ç¥¨åˆ—è¡¨ã€æ—¥çº¿æ•°æ®ã€äº¤æ˜“æ—¥å†ã€æ¯æ—¥æŒ‡æ ‡ç­‰ç¤ºä¾‹
- âœ… **æ ¼å¼åŒ–è¾“å‡º**: æ”¯æŒæ§åˆ¶å°å’Œ JSON ä¸¤ç§è¾“å‡ºæ ¼å¼
- âœ… **å®Œæ•´æµ‹è¯•**: åŒ…å«å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

## å¸¸è§é—®é¢˜

### æç¤ºç¼ºå°‘ TUSHARE_TOKEN

ç¡®ä¿åœ¨ `apps/node-demo/` ç›®å½•ä¸‹åˆ›å»ºäº† `.env` æ–‡ä»¶,å¹¶æ­£ç¡®è®¾ç½®äº† `TUSHARE_TOKEN`ã€‚

### API è°ƒç”¨å¤±è´¥

1. æ£€æŸ¥ Token æ˜¯å¦æœ‰æ•ˆ
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. æŸ¥çœ‹é”™è¯¯æ¶ˆæ¯ä¸­çš„å»ºè®®

### ç±»å‹é”™è¯¯

ç¡®ä¿ SDK å·²æ„å»º:

```bash
cd packages/tushare-sdk
pnpm build
```

## æ›´å¤šä¿¡æ¯

- ğŸ“– [SDK æ–‡æ¡£](../../packages/tushare-sdk/README.md)
- ğŸ“– [API å‚è€ƒ](../../docs/api.md)
- ğŸŒ [Tushare Pro å®˜ç½‘](https://tushare.pro)

## è®¸å¯è¯

MIT
